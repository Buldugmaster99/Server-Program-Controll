<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Test</title>
        <script>
            window.onload = function () {
                try {
                    var ws = new WebSocket("ws://" + window.location.host + ":18769/ws");
                    console.log("Connection built")
                } catch (err) {
                    alert("Connection invalid");
                    fail;
                }

                document.getElementById("act").onclick = function () {
                    ws.send(JSON.stringify({ action: "getactivity", id: "60babca782168"}));
                };

                document.getElementById("log").onclick = function () {
                    ws.send(JSON.stringify({ action: "getlogs", id: "60babca782168"}));
                };

                ws.onopen = function () {
                    ws.send("connection opened!");
                };

                ws.onerror = function (error) {
                    console.log("WebSocket Error: " + error);
                    alert("WebSocket Error");
                };

                ws.onclose = function () {
                    console.log("Connection lost");
                    alert("Connection lost");
                };

                ws.onmessage = function (evt) {
                    var data = evt.data;
                    console.log("Message is received: " + data);
                };
            };
        </script>
    </head>
    <body>
        <button id="log">logs</button>
        <button id="act">activity</button>
    </body>
</html>
